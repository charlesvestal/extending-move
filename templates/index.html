<html>
    <head>
        <title>Move - Extended</title>
        <link rel="stylesheet" href="/static/css/style.css">
        <script>
            function openTab(evt, tabName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabName).style.display = "block";
                evt.currentTarget.className += " active";

                // Load content dynamically
                fetchContent(tabName);
            }

            // Function to fetch tab content
            function fetchContent(tabName) {
                fetch('/' + tabName.toLowerCase())
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.text();
                    })
                    .then(data => {
                        document.getElementById(tabName).innerHTML = data;
                    })
                    .catch(error => {
                        document.getElementById(tabName).innerHTML = '<p style="color: red;">Error loading content.</p>';
                        console.error('There has been a problem with your fetch operation:', error);
                    });
            }

            // Open the default tab
            window.onload = function() {
                document.getElementById("defaultOpen").click();
            }
        </script>
    </head>
    <body>
        <h1>Move - Extended</h1>
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'Slice')" id="defaultOpen">Slice Kit</button>
            <button class="tablinks" onclick="openTab(event, 'Refresh')">Refresh Library</button>
        </div>

        <div id="Slice" class="tabcontent">
            <!-- Slice form will be loaded here dynamically -->
        </div>

        <div id="Refresh" class="tabcontent">
            <!-- Refresh form will be loaded here dynamically -->
        </div>
    </body>
</html>
