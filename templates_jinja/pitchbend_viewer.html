{% extends "base.html" %}
{% block content %}
<h2>Pitch Bend Viewer</h2>
{% if message %}<p>{{ message }}</p>{% endif %}
<form method="post" action="{{ host_prefix }}/pitchbend-viewer">
  <input type="hidden" name="action" value="load">
  <label>Set Path: <input type="text" name="set_path" value="{{ set_path }}" size="60"></label><br>
  <label>Track Index: <input type="number" name="track_idx" value="{{ track_idx }}"></label><br>
  <label>Clip Index: <input type="number" name="clip_idx" value="{{ clip_idx }}"></label><br>
  <label>Pad Note: <input type="number" name="pad_note" value="{{ pad_note }}"></label><br>
  <button type="submit">Load</button>
</form>
{% if segments %}
<div id="pitchData" data-segments='{{ segments | tojson }}'></div>
<webaudio-pianoroll id="pitchRoll" width="800" height="300" editmode="dragpoly" wheelzoom="0" xscroll="1" yscroll="1" timebase="16"></webaudio-pianoroll>
{% endif %}
{% endblock %}
{% block scripts %}
<script src="{{ host_prefix }}/static/webaudio-pianoroll.js"></script>
<script type="module" src="{{ host_prefix }}/static/pitchbend_viewer.js"></script>
{% endblock %}
