<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Move - Extended</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
</head>
<body hx-boost="true" hx-target="#content" hx-select="#content">
    <h1 id="header">Move - Extended</h1>
    <nav class="tab">
        <a href="/restore" class="{% if active_tab == 'restore' %}active{% endif %}">Restore Set</a>
        <a href="/slice" class="{% if active_tab == 'slice' %}active{% endif %}">Slice Kit</a>
        <a href="/chord" class="{% if active_tab == 'chord' %}active{% endif %}">Chord Kit</a>
        <a href="/synth-macros" class="{% if active_tab == 'synth-macros' %}active{% endif %}">Synth Macros</a>
        <a href="/reverse" class="{% if active_tab == 'reverse' %}active{% endif %}">Reverse WAV</a>
        <a href="/set-management" class="{% if active_tab == 'set-management' %}active{% endif %}">MIDI Upload</a>
    </nav>
    <div id="content" class="tabcontent">
        {% block content %}{% endblock %}
    </div>
    <script>
        function updateActiveTab() {
            const path = window.location.pathname;
            document.querySelectorAll('nav.tab a').forEach(a => {
                if (a.getAttribute('href') === path) {
                    a.classList.add('active');
                } else {
                    a.classList.remove('active');
                }
            });
        }
        document.addEventListener('DOMContentLoaded', updateActiveTab);
        document.body.addEventListener('htmx:afterSwap', updateActiveTab);
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
