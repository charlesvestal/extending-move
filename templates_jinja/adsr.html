{% extends "base.html" %}
{% block content %}
<h2>ADSR Envelope Visualizer</h2>
{% if message %}
  <p class="{{ message_type }}">{{ message }}</p>
{% endif %}
<canvas id="adsr-canvas" width="300" height="150"></canvas>
<div id="adsr-controls">
  <label>Attack
    <input type="range" id="attack" class="input-knob" min="0" max="2" step="0.01" value="{{ defaults.attack }}">
  </label>
  <label>Attack Slope
    <input type="range" id="attack-slope" class="input-knob" min="0" max="100" step="1" value="{{ defaults.attack_slope }}">
  </label>
  <label>Decay
    <input type="range" id="decay" class="input-knob" min="0" max="2" step="0.01" value="{{ defaults.decay }}">
  </label>
  <label>Decay Slope
    <input type="range" id="decay-slope" class="input-knob" min="0" max="100" step="1" value="{{ defaults.decay_slope }}">
  </label>
  <label>Sustain
    <input type="range" id="sustain" class="input-knob" min="0" max="1" step="0.01" value="{{ defaults.sustain }}">
  </label>
  <label>Release
    <input type="range" id="release" class="input-knob" min="0" max="2" step="0.01" value="{{ defaults.release }}">
  </label>
  <label>Release Slope
    <input type="range" id="release-slope" class="input-knob" min="0" max="100" step="1" value="{{ defaults.release_slope }}">
  </label>
  <label>Initial
    <input type="range" id="initial" class="input-knob" min="0" max="1" step="0.01" value="{{ defaults.initial }}">
  </label>
  <label>Peak
    <input type="range" id="peak" class="input-knob" min="0" max="1" step="0.01" value="{{ defaults.peak }}">
  </label>
  <label>Final
    <input type="range" id="final" class="input-knob" min="0" max="1" step="0.01" value="{{ defaults.final }}">
  </label>
</div>
{% endblock %}
{% block scripts %}
<script src="{{ host_prefix }}/static/shared.js"></script>
<script src="{{ host_prefix }}/static/input-knobs.js"></script>
<script src="{{ host_prefix }}/static/adsr.js"></script>
{% endblock %}
